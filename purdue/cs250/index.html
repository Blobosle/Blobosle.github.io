<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CS25000 Notes Download</title>
</head>
<body>
    <p>
        The download for the CS25000 final notes starts automatically.<br><br>
        Spring 2025<br>
        CS 25000 Computer Architecture @ Purdue<br>
        Prof. George B. Adams III<br><br>
        <strong id="commitInfo">Loading latest commit info...</strong>
    </p>

    <script>
        // Trigger PDF download on page load
        window.onload = function() {
            var link = document.createElement('a');
            link.href = 'https://raw.githubusercontent.com/Blobosle/CS250-Notes/main/main.pdf';
            link.download = 'cs250-notes.pdf';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        };

        // Fetch latest commit information from GitHub API
        fetch('https://api.github.com/repos/Blobosle/CS250-Notes/commits?per_page=1')
            .then(function(response) {
                if (!response.ok) throw new Error('Network response was not ok');
                return response.json();
            })
            .then(function(data) {
                var latest = data[0];
                var msg = latest.commit.message;
                var author = latest.commit.author.name;
                var date = new Date(latest.commit.author.date).toLocaleString();
                document.getElementById('commitInfo').textContent =
                    'Last commit by ' + author + ' on ' + date + ': ' + msg;
            })
            .catch(function(error) {
                console.error('Error fetching commit info:', error);
                document.getElementById('commitInfo').textContent = 'Unable to load commit info.';
            });
    </script>

    <!-- Fallback for users without JavaScript -->
    <noscript>
        <p>
            <a href="https://raw.githubusercontent.com/Blobosle/CS250-Notes/main/main.pdf" download>Click here to download the PDF</a>
        </p>
    </noscript>
</body>
</html>

